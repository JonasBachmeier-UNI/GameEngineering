[gd_scene load_steps=13 format=4 uid="uid://b63yit1cu4gvl"]

[ext_resource type="Script" path="res://Scripts/GameLogic/game_board.gd" id="1_pdsm0"]
[ext_resource type="Script" path="res://Scripts/GameLogic/unit.gd" id="2_2tyed"]
[ext_resource type="Texture2D" uid="uid://ch6p6faml6exn" path="res://assets/Tileset/cave.png" id="2_wyglw"]
[ext_resource type="Texture2D" uid="uid://dl7vtvav0ny0r" path="res://assets/highlighted/highlight_tile.png" id="4_t07s4"]
[ext_resource type="Texture2D" uid="uid://l31kxdyrswdc" path="res://assets/Unit/test.png" id="4_yitvx"]
[ext_resource type="Texture2D" uid="uid://c6peupm1b2ju4" path="res://assets/highlighted/tile_highlighted_2.png" id="5_ut7o1"]
[ext_resource type="Script" path="res://cursor.gd" id="6_qbh61"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_r7elo"]
resource_name = "walkable"
texture = ExtResource("2_wyglw")
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
4:3/0 = 0
5:3/0 = 0
6:3/0 = 0
7:3/0 = 0
8:3/0 = 0
9:3/0 = 0
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
6:4/0 = 0
7:4/0 = 0
8:4/0 = 0
9:4/0 = 0
0:5/0 = 0
1:5/0 = 0
2:5/0 = 0
3:5/0 = 0
6:5/0 = 0
7:5/0 = 0
8:5/0 = 0
9:5/0 = 0
0:6/0 = 0
1:6/0 = 0
2:6/0 = 0
3:6/0 = 0
6:6/0 = 0
7:6/0 = 0
8:6/0 = 0
9:6/0 = 0
3:0/0 = 0
3:1/0 = 0
3:2/0 = 0
4:0/0 = 0
4:1/0 = 0
4:2/0 = 0
5:0/0 = 0
5:1/0 = 0
5:2/0 = 0
6:0/0 = 0
6:1/0 = 0
6:2/0 = 0
7:0/0 = 0
7:1/0 = 0
7:2/0 = 0
8:0/0 = 0
8:1/0 = 0
8:2/0 = 0
9:0/0 = 0
9:1/0 = 0
9:2/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_t18yb"]
resource_name = "unwalkable"
texture = ExtResource("2_wyglw")
11:1/0 = 0

[sub_resource type="TileSet" id="TileSet_xdb4t"]
sources/0 = SubResource("TileSetAtlasSource_r7elo")
sources/1 = SubResource("TileSetAtlasSource_t18yb")

[sub_resource type="Curve2D" id="Curve2D_eoxen"]

[sub_resource type="SpriteFrames" id="SpriteFrames_kfbps"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_t07s4")
}, {
"duration": 1.0,
"texture": ExtResource("5_ut7o1")
}],
"loop": true,
"name": &"default",
"speed": 3.0
}]

[node name="Test" type="Node2D"]

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(4, 4)

[node name="GameBoard" type="Node" parent="." node_paths=PackedStringArray("tml")]
script = ExtResource("1_pdsm0")
tml = NodePath("Map")

[node name="Map" type="TileMapLayer" parent="GameBoard"]
tile_map_data = PackedByteArray("AAD8//7/AAAAAAMAAAD8////AAAAAAQAAAD8/wAAAAAAAAQAAAD8/wEAAAAAAAQAAAD8/wIAAAAAAAYAAAD9/wIAAAABAAYAAAD+/wIAAAABAAYAAAD//wIAAAABAAYAAAAAAAIAAAABAAYAAAABAAIAAAABAAYAAAACAAIAAAABAAYAAAADAAIAAAADAAYAAAADAAEAAAADAAUAAAADAAAAAAADAAUAAAADAP//AAADAAUAAAADAP7/AAADAAMAAAACAP7/AAACAAMAAAABAP7/AAACAAMAAAAAAP7/AAACAAMAAAD///7/AAACAAMAAAD+//7/AAACAAMAAAD9//7/AAACAAMAAAD9////AAACAAUAAAD9/wAAAAACAAUAAAD+/wAAAAACAAUAAAD+/wEAAAACAAUAAAD//wEAAAACAAUAAAAAAAEAAAACAAUAAAAAAAAAAAACAAUAAAABAAAAAAACAAUAAAACAAAAAAACAAUAAAACAP//AAACAAUAAAACAAEAAAACAAUAAAABAAEAAAACAAUAAAABAP//AAACAAUAAAAAAP//AAACAAUAAAD/////AAACAAUAAAD+////AAACAAUAAAD9/wEAAAACAAUAAAD//wAAAAACAAUAAAD7//3/AQALAAEAAAD7//7/AQALAAEAAAD7////AQALAAEAAAD7/wAAAQALAAEAAAD7/wEAAQALAAEAAAD7/wIAAQALAAEAAAD7/wMAAQALAAEAAAD8/wMAAQALAAEAAAD9/wMAAQALAAEAAAD+/wMAAQALAAEAAAD//wMAAQALAAEAAAAAAAMAAQALAAEAAAABAAMAAQALAAEAAAACAAMAAQALAAEAAAADAAMAAQALAAEAAAAEAAMAAQALAAEAAAAEAAIAAQALAAEAAAAEAAEAAQALAAEAAAAEAAAAAQALAAEAAAAEAP//AQALAAEAAAAEAP7/AQALAAEAAAAEAP3/AQALAAEAAAADAP3/AQALAAEAAAACAP3/AQALAAEAAAABAP3/AQALAAEAAAAAAP3/AQALAAEAAAD///3/AQALAAEAAAD+//3/AQALAAEAAAD9//3/AQALAAEAAAD8//3/AQALAAEAAAA=")
tile_set = SubResource("TileSet_xdb4t")

[node name="UnitOverlay" type="TileMapLayer" parent="GameBoard"]

[node name="UnitPath" type="TileMapLayer" parent="GameBoard"]

[node name="Units" type="Node" parent="GameBoard"]

[node name="Unit" type="Path2D" parent="GameBoard/Units"]
curve = SubResource("Curve2D_eoxen")
script = ExtResource("2_2tyed")
x_coord = 1
y_coord = 1

[node name="PathFollow2D" type="PathFollow2D" parent="GameBoard/Units/Unit"]
rotates = false

[node name="Sprite2D" type="Sprite2D" parent="GameBoard/Units/Unit/PathFollow2D"]
texture = ExtResource("4_yitvx")

[node name="Cursor" type="AnimatedSprite2D" parent="GameBoard"]
sprite_frames = SubResource("SpriteFrames_kfbps")
autoplay = "default"
frame_progress = 0.149173
script = ExtResource("6_qbh61")

[connection signal="matrix_ready" from="GameBoard" to="GameBoard/Units/Unit" method="_on_game_board_matrix_ready"]
[connection signal="matrix_ready" from="GameBoard" to="GameBoard/Cursor" method="_on_game_board_matrix_ready"]
[connection signal="path_completed" from="GameBoard/Units/Unit" to="GameBoard/Cursor" method="_on_unit_path_completed"]
[connection signal="update_board" from="GameBoard/Cursor" to="GameBoard/Units/Unit" method="_on_cursor_update_board"]
